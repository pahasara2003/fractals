(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1835:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fractals_bg.fdc8bcd6.wasm"},1813:(e,t,n)=>{Promise.resolve().then(n.bind(n,1909))},1909:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{default:()=>f});var a=n(5155),s=n(2115);let i=null;function l(e,t){return e>>>=0,((null===i||0===i.byteLength)&&(i=new Uint8Array(r.memory.buffer)),i).subarray(e/1,e/1+t)}async function c(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function o(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new n.U(n(1835)));let t=function(){let e={};return e.wbg={},e.wbg.__wbindgen_init_externref_table=function(){let e=r.__wbindgen_export_0,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:a,module:s}=await c(await e,t);return r=a.exports,o.__wbindgen_wasm_module=s,i=null,r.__wbindgen_start(),r}let u=[function(e,t,n,a,s,i,c,o){let u=r.generate_julia(e,t,n,a,s,i,c,o);var d=l(u[0],u[1]).slice();return r.__wbindgen_free(u[0],1*u[1],1),d},function(e,t,n,a,s,i){let c=r.generate_mandelbrot(e,t,n,a,s,i);var o=l(c[0],c[1]).slice();return r.__wbindgen_free(c[0],1*c[1],1),o}],d=async(e,t,n,r,a,s,i,l,c)=>{await o();let d=u[s](t,-n,r,i,l,c,a[0],a[1]),h=e.current;if(!h)return;let m=h.getContext("2d");if(h.width=window.innerWidth,h.height=window.innerHeight,!m)return;let f=m.createImageData(h.width,h.height),x=f.data;for(let e=0;e<d.length;e++){let t=e%i,n=Math.floor(e/i),r=d[e],a=(n*h.width+t)*4;x[a]=.6*r,x[a+1]=.7*r,x[a+2]=r,x[a+3]=255}m.putImageData(f,0,0)},h=e=>{let{scale:t,xOffset:n,yOffset:r,c:i,fractal:l,canvasRef:c,iter:o}=e,[u,h]=(0,s.useState)({width:1200,height:700});return(0,s.useEffect)(()=>{let e=Math.max(window.innerWidth,1200),a=Math.max(window.innerHeight,700);h({width:e,height:a}),d(c,n,r,t,i,l,e,a,o)},[n,r,t,i,l,o]),(0,s.useEffect)(()=>{window.addEventListener("resize",()=>{d(c,n,r,t,i,l,Math.max(window.innerWidth,1200),Math.max(window.innerHeight,700),o)})},[]),(0,a.jsx)("section",{className:"p-0 m-0",children:(0,a.jsx)("canvas",{width:u.width,height:u.height,className:"m-0 left-0 p-0 cursor-grab",ref:c})})},m=e=>{let{setScale:t,setXOffset:n,setYOffset:r,canvasRef:i,iter:l,setIter:c,fractal:o,setFractal:u,c:d,setC:h}=e,[m,f]=(0,s.useState)([d[0],d[1]]),x=(0,s.useRef)(null),p=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:" w-[400px] max-md:hidden backdrop-blur-md rounded-xl text-lime-400 font-[mono] p-3 m-5 absolute z-[100] top-0 right-5",children:[(0,a.jsxs)("div",{className:"flex justify-evenly items-center",children:[(0,a.jsx)("button",{onClick:()=>u(e=>(e+1)%2),className:"text-black bg-lime-400 w-[25px] h-[25px] text-center cursor-pointer rounded-full",children:"<"}),(0,a.jsx)("p",{className:"font-bold px-2 text-[1.5rem]",children:1==o?"Mandelbrot Set":"Julia Set"}),(0,a.jsx)("button",{className:"text-black bg-lime-400 w-[25px] h-[25px] text-center  cursor-pointer rounded-full",onClick:()=>u(e=>(e+1)%2),children:">"})]}),(0,a.jsxs)("p",{className:"text-center pt-3",children:["Iterations : ",l," "]}),(0,a.jsxs)("div",{className:"flex justify-center",children:[(0,a.jsx)("button",{onClick:()=>{c(e=>Math.min(400,e+1))},className:"bg-lime-400 rounded-md hover:bg-green-500 w-[25px] m-2 text-black",children:"+"}),(0,a.jsx)("button",{onClick:()=>{c(e=>Math.max(1,e-1))},className:"bg-lime-400 rounded-md hover:bg-green-500 w-[25px] m-2 text-black",children:"-"})]}),(0,a.jsxs)("div",{className:"my-3 ".concat(0==o?"":"hidden"),children:[(0,a.jsxs)("p",{className:"text-center pt-3",children:[" C (complex number) : ",d[0].toFixed(3)," + ",d[1].toFixed(3),"i "]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 py-2 ",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{children:["Radius :",Math.sqrt(d[1]**2+d[0]**2).toFixed(3)," "]}),(0,a.jsx)("input",{type:"range",ref:p,className:"w-[200px]",min:0,max:1,step:.001,onInput:e=>{let t=parseFloat(e.target.value),n=Math.atan2(d[1],d[0]);h([t*Math.cos(n),t*Math.sin(n)])}})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{children:["Angle : ",(180*Math.atan2(d[1],d[0])/Math.PI).toFixed(3),"  "]}),(0,a.jsx)("input",{ref:x,type:"range",className:"w-[200px]",min:0,max:2*Math.PI,step:Math.PI/1200,onInput:e=>{let t=parseFloat(e.target.value),n=Math.sqrt(d[1]**2+d[0]**2);h([n*Math.cos(t),n*Math.sin(t)])}})]})]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>{c(75),n(0),r(0),t(1)},className:"bg-lime-400 hover:bg-green-500 p-2 py-1 rounded-md m-3 text-black",children:"Reset"}),(0,a.jsx)("button",{onClick:()=>{let e=document.createElement("a");e.download="".concat(Date.now(),".png"),i.current&&(e.href=i.current.toDataURL("image.png")),e.click()},className:"bg-lime-400 hover:bg-green-500 p-2 py-1 rounded-md m-3 text-black",children:"Download .png"})]})}),"Use hand to move."]})};function f(){let[e,t]=(0,s.useState)(1),[n,r]=(0,s.useState)(0),[i,l]=(0,s.useState)(0),[c,o]=(0,s.useState)(100),[u,d]=(0,s.useState)([.285,.01]),[f,x]=(0,s.useState)(0),p=(0,s.useRef)([0,0]),g=(0,s.useRef)(!1),b=(0,s.useRef)(null),w=(0,s.useRef)(100);return b.current&&(b.current.style.cursor="grab"),(0,s.useEffect)(()=>{var n,a,s,i;null===(n=b.current)||void 0===n||n.addEventListener("mousedown",e=>{p.current=[e.clientX,e.clientY],g.current=!0}),null===(a=b.current)||void 0===a||a.addEventListener("mousemove",e=>{let t=e.clientX-p.current[0],n=e.clientY-p.current[1];b.current&&g.current&&(b.current.style.transform="translate(".concat(t,"px,").concat(n,"px)"))}),null===(s=b.current)||void 0===s||s.addEventListener("mouseup",t=>{let n=t.clientX-p.current[0],a=t.clientY-p.current[1];console.log(e),r(e=>e-n),l(e=>e+a),g.current=!1,b.current&&(b.current.style.cursor="grab",b.current.style.transform="translateX(0px)")}),null===(i=b.current)||void 0===i||i.addEventListener("wheel",function(e){var n;e.preventDefault();let a=null===(n=b.current)||void 0===n?void 0:n.getBoundingClientRect();if(!a)return;let s=e.clientX-a.left,i=e.clientY-a.top,c=s/a.width*2-1,o=i/a.height*2-1,u=e.deltaY>0?"out":"in",d=Math.abs(e.deltaY)>100?.5:.25,h=w.current;w.current="in"===u?w.current*(1+.05*d):w.current/(1+.05*d),w.current=Math.max(25,w.current);let m=100/w.current,f=100/h;r(e=>(e+c*(f-m))/(m/f)),l(e=>(e+o*(f-m))/(m/f)),t(m)},{passive:!1})},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{setScale:t,setXOffset:r,setYOffset:l,canvasRef:b,iter:c,setIter:o,fractal:f,setFractal:x,c:u,setC:d}),(0,a.jsx)("section",{className:"overflow-hidden max-h-[100vh]",children:(0,a.jsx)(h,{scale:e,xOffset:n,yOffset:i,c:u,fractal:f,canvasRef:b,iter:c})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(1813)),_N_E=e.O()}]);